<?php require 'config.php'; header('Content-Type: application/json'); $method = $_SERVER['REQUEST_METHOD']; if($method == 'PUT') { $data = json_decode(file_get_contents("php://input")); try { $stmt = $conn->prepare("UPDATE users SET full_name=:n, institute=:i, is_verified=:v, target_exam=:te WHERE id=:id"); $stmt->execute([':n'=>$data->name, ':i'=>$data->institute, ':v'=>$data->isVerified?1:0, ':te'=>$data->targetExam, ':id'=>$data->id]); echo json_encode(["message"=>"User updated"]); } catch(Exception $e){ echo json_encode(["error"=>$e->getMessage()]); } } if($method == 'DELETE') { $id = $_GET['id']; $conn->prepare("DELETE FROM users WHERE id=?")->execute([$id]); echo json_encode(["message"=>"Deleted"]); }