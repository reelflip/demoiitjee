<?php require 'config.php'; header('Content-Type: application/json'); $method = $_SERVER['REQUEST_METHOD']; if($method == 'POST') { $data = json_decode(file_get_contents("php://input")); try { $stmt = $conn->prepare("INSERT INTO blog_posts (id, title, excerpt, content, author, category, image_url, created_at) VALUES (:id, :t, :e, :c, :a, :cat, :img, :d)"); $stmt->execute([':id'=>$data->id, ':t'=>$data->title, ':e'=>$data->excerpt, ':c'=>$data->content, ':a'=>$data->author, ':cat'=>$data->category, ':img'=>$data->imageUrl, ':d'=>$data->date]); echo json_encode(["message"=>"Blog saved"]); } catch(Exception $e){ echo json_encode(["error"=>$e->getMessage()]); } } if($method == 'DELETE') { $id = $_GET['id']; $conn->prepare("DELETE FROM blog_posts WHERE id=?")->execute([$id]); echo json_encode(["message"=>"Deleted"]); }