<?php require 'config.php'; header('Content-Type: application/json'); $method = $_SERVER['REQUEST_METHOD']; if($method == 'POST'){ $data=json_decode(file_get_contents("php://input")); $conn->prepare("INSERT INTO backlogs (id, user_id, title, subject_id, priority, deadline, status) VALUES (?,?,?,?,?,?,?)")->execute([$data->id, $data->user_id, $data->title, $data->subjectId, $data->priority, $data->deadline, $data->status]); echo json_encode(["message"=>"Added"]); } if($method == 'PUT'){ $data=json_decode(file_get_contents("php://input")); $conn->prepare("UPDATE backlogs SET status = IF(status='PENDING','CLEARED','PENDING') WHERE id=?")->execute([$data->id]); echo json_encode(["message"=>"Toggled"]); } if($method == 'DELETE'){ $conn->prepare("DELETE FROM backlogs WHERE id=?")->execute([$_GET['id']]); echo json_encode(["message"=>"Deleted"]); }