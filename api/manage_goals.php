<?php require 'config.php'; header('Content-Type: application/json'); $method = $_SERVER['REQUEST_METHOD']; if($method == 'POST'){ $data=json_decode(file_get_contents("php://input")); $conn->prepare("INSERT INTO daily_goals (id, user_id, goal_text, is_completed) VALUES (?,?,?,0)")->execute([$data->id, $data->user_id, $data->text]); echo json_encode(["message"=>"Added"]); } if($method == 'PUT'){ $data=json_decode(file_get_contents("php://input")); $conn->prepare("UPDATE daily_goals SET is_completed = NOT is_completed WHERE id=?")->execute([$data->id]); echo json_encode(["message"=>"Toggled"]); }